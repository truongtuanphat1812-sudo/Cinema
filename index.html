<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeonFlix</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body { font-family: Arial, sans-serif; background-color: #111; color: #fff; margin:0; padding:20px;}
        h1 { color: #ff0066;}
        .search-box { margin: 20px 0; }
        .search-box input { padding: 8px; width: 200px; border-radius:5px; border:none; }
        .search-box button { padding:8px 12px; background:#ff0066; color:white; border:none; border-radius:5px; cursor:pointer; }

        /* Dropdown */
        .dropdown { position: relative; display: inline-block; margin-bottom:20px;}
        .dropbtn { background-color:#ff0066; color:white; padding:10px 20px; border:none; border-radius:5px; cursor:pointer; }
        .dropdown-content { display:none; position:absolute; background:#222; min-width:180px; border-radius:5px; overflow:hidden; max-height:0; transition:max-height 0.3s ease; z-index:1;}
        .dropdown-content a { color:white; padding:10px 15px; text-decoration:none; display:block;}
        .dropdown-content a:hover { background:#ff0066; }
        .dropdown-content.show { display:block; max-height:500px; }

        /* Movie card */
        #movieList { display:flex; flex-wrap:wrap; gap:15px;}
        .movie-card { background:#222; padding:10px; border-radius:8px; width:180px;}
        .movie-card img { width:100%; border-radius:5px; }
        .movie-card h3 { font-size:16px; margin:5px 0;}
        .movie-card p { font-size:14px; margin:2px 0; }
    </style>
</head>
<body>
    <header style="display:flex; justify-content: space-between; align-items: center;">
        <h1>üé¨ NeonFlix</h1>
        <div id="authButton">
            <button class="login-btn" onclick="window.location.href='dangnhap.html'">ƒêƒÉng nh·∫≠p</button>
        </div>
    </header>

    <!-- T√¨m ki·∫øm -->
    <div class="search-box">
        <input type="text" id="searchInput" placeholder="Nh·∫≠p t√™n phim...">
        <button onclick="timKiemPhim()">T√¨m ki·∫øm</button>
    </div>

    <!-- Dropdown th·ªÉ lo·∫°i -->
    <div class="dropdown">
        <button class="dropbtn" onclick="toggleDropdown()">üé≠ Th·ªÉ lo·∫°i ‚ñº</button>
        <div id="myDropdown" class="dropdown-content">
            <a href="#" onclick="locTheoTheLoai(28)">H√†nh ƒë·ªông</a>
            <a href="#" onclick="locTheoTheLoai(35)">H√†i</a>
            <a href="#" onclick="locTheoTheLoai(16)">Ho·∫°t h√¨nh</a>
            <a href="#" onclick="locTheoTheLoai(14)">Gi·∫£ t∆∞·ªüng</a>
            <a href="#" onclick="locTheoTheLoai(27)">Kinh d·ªã</a>
            <a href="#" onclick="locTheoTheLoai(18)">T√¢m l√Ω</a>
            <a href="#" onclick="locTheoTheLoai(12)">Phi√™u l∆∞u</a>
            <a href="#" onclick="locTheoTheLoai(10749)">L√£ng m·∫°n</a>
            <a href="#" onclick="locTheoTheLoai(878)">Khoa h·ªçc vi·ªÖn t∆∞·ªüng</a>
            <a href="#" onclick="locTheoTheLoai(10402)">√Çm nh·∫°c</a>
            <a href="#" onclick="locTheoTheLoai(80)">T·ªôi ph·∫°m</a>
            <a href="#" onclick="locTheoTheLoai(99)">T√†i li·ªáu</a>
            <a href="#" onclick="locTheoTheLoai(10751)">Gia ƒë√¨nh</a>
            <a href="#" onclick="locTheoTheLoai(36)">L·ªãch s·ª≠</a>
            <a href="#" onclick="locTheoTheLoai(9648)">B√≠ ·∫©n</a>
            <a href="#" onclick="locTheoTheLoai(10752)">Chi·∫øn tranh</a>
            <a href="#" onclick="locTheoTheLoai(37)">Mi·ªÅn T√¢y</a>
            <a href="#" onclick="locTheoTheLoai('')">T·∫•t c·∫£</a>
        </div>
    </div>

    <!-- Movie list -->
    <div id="movieList"></div>

    <!-- JS ri√™ng -->
    <script src="movie.js"></script>
    <script>
        // Dropdown click
        function toggleDropdown() {
            document.getElementById("myDropdown").classList.toggle("show");
        }
        window.onclick = function(event){
            if(!event.target.matches('.dropbtn')){
                const dropdowns = document.getElementsByClassName("dropdown-content");
                for(let i=0;i<dropdowns.length;i++){
                    dropdowns[i].classList.remove('show');
                }
            }
        }

        // Ki·ªÉm tra ƒëƒÉng nh·∫≠p
        function capNhatNutDangNhap() {
            const authBtn = document.getElementById('authButton');
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if(currentUser){
                authBtn.innerHTML = `<span style="margin-right:10px;">üëã Xin ch√†o, ${currentUser.username}</span>
                                     <button class="logout-btn" onclick="dangXuat()">ƒêƒÉng xu·∫•t</button>`;
            }else{
                authBtn.innerHTML = `<button class="login-btn" onclick="window.location.href='dangnhap.html'">ƒêƒÉng nh·∫≠p</button>`;
            }
        }
        function dangXuat(){
            localStorage.removeItem('currentUser');
            window.location.reload();
        }
        capNhatNutDangNhap();
    </script>
</body>
</html>
